

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Generate figures &mdash; Cellfinder 0.3.4 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Region image generation" href="generate_region_volume.html" />
    <link rel="prev" title="Cube extraction" href="cube_extract.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Cellfinder
          

          
          </a>

          
            
            
              <div class="version">
                0.3.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../run.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training.html">Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cell_view_2D.html">Two dimensional cell viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="cell_view_3D.html">Three dimensional viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="cells_standard_space.html">Transforming cells into standard space</a></li>
<li class="toctree-l1"><a class="reference internal" href="cells_to_brainrender.html">Converting cells to brainrender format</a></li>
<li class="toctree-l1"><a class="reference internal" href="count_summary.html">Organise cells into atlas regions</a></li>
<li class="toctree-l1"><a class="reference internal" href="cube_extract.html">Cube extraction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Generate figures</a></li>
<li class="toctree-l1"><a class="reference internal" href="generate_region_volume.html">Region image generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="region_summary.html">Summarise cell counts from multiple brains</a></li>
<li class="toctree-l1"><a class="reference internal" href="roi_transform.html">ROI transformation</a></li>
<li class="toctree-l1"><a class="reference internal" href="xml_crop.html">XML file cropping</a></li>
<li class="toctree-l1"><a class="reference internal" href="xml_scale.html">XML file rescaling</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/release_notes.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/roadmap.html">Future Plans</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dev/CONTRIBUTING.html">Contributing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/hpc.html">Cellfinder installation in a cluster computing environment.</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Cellfinder</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>Generate figures</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="generate-figures">
<h1>Generate figures<a class="headerlink" href="#generate-figures" title="Permalink to this headline">¶</a></h1>
<p>N.B. A command line tool has not yet been developed. For now, figures can only
be generated by using the <code class="docutils literal notranslate"><span class="pre">--figures</span></code> flag in <code class="docutils literal notranslate"><span class="pre">cellfinder_run</span></code>.</p>
<p>By default, if you use the <code class="docutils literal notranslate"><span class="pre">--figures</span></code> flag, a number of files will be
generated. Until custom figures can be generated in cellfinder, these files
are generated to allow you to more easily make figures in e.g.
<a class="reference external" href="https://fiji.sc">FIJI</a>. More details can be found <a class="reference external" href="tools/figures">here</a>.</p>
<p>The idea is that these images can be combined to generate more custom figures.
These images are all saved in the same coordinate space as the downsampled
raw data saved into <code class="docutils literal notranslate"><span class="pre">output_directory/registration</span></code>.
Currently three files will be generated by default.</p>
<ul class="simple">
<li><p><strong>heatmap.nii</strong> - This is a 3D histogram, showing cell densities throughout
the brain. Likely to be more useful than visualising cell positions for dense
areas. By default, this is smoothed, and masked (so that the smoothing doesn’t
“bleed” outside of the brain)</p></li>
<li><p><strong>glass_brain.nii</strong> This is a binary image, just showing the brain surface.
Plotting this in 3D along with <strong>heatmap.nii</strong> gives a nice sense of
cell density throughout the brain. <a class="reference external" href="https://imagej.net/ClearVolume">ClearVolume</a>
works well for this.</p></li>
<li><p><strong>boundaries.nii</strong> Another binary image, but showing the divisions between
each region in the atlas. More useful for smaller, 3D figures to delineate
region boundaries. Also useful to assess registration by overlaying on the raw,
downsampled data.</p></li>
</ul>
<p>There are not yet many options, but the current options are here:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--no-heatmap</span></code> Don’t generate a heatmap of cell locations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--heatmap-bin</span></code> Heatmap bin size (mm of each edge of histogram cube)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--heatmap-smoothing</span></code> Gaussian smoothing sigma, in mm.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--no-outlines</span></code> Don’t generate outlines of segmentation regions (for overlay)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--no-mask-figs</span></code> Don’t mask the figures (removing any areas outside the
brain, from e.g. smoothing)</p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="generate_region_volume.html" class="btn btn-neutral float-right" title="Region image generation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cube_extract.html" class="btn btn-neutral float-left" title="Cube extraction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Sainsbury Wellcome Centre

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>